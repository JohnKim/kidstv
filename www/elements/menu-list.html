<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../service/menu-service.html">

<polymer-element name="menu-list" attributes="menu">
  <template>

    <menu-service id="service" menus="{{menus}}" on-load-completed="{{loadCompleted}}"></menu-service>

    <template repeat="{{menu in menus}}">

      <paper-item icon="drive-video" label="{{menu.title}}" on-tap="{{menuTapped}}" id="{{menu.channelId}}" >
      </paper-item>

    </template>

  </template>

  <script>
  Polymer({
    show: 'default',
    ready: function() {
    },
    loadCompleted : function(){
      this.channels = {};
      for (var i in this.menus) {
        this.channels[this.menus[i].channelId] = this.menus[i];
      }
    },
    menuTapped: function(event, detail, sender) {

      //var channel = this.channels[sender.id];
      //retrieveList(channel);
      this.menu = this.channels[sender.id];
      this.fire('menu-tap');

    }
  });
  </script>
</polymer-element>
